{% extends "index.html" %}

{% block content %}
<section class="flex gap-4">
    <div class="basis-2/3">
        <p class="mt-[72px] text-2xl text-[#7163BA] mb-4">
            Beranda
        </p>
        <div class="flex">
            <div class="basis-1/2">
                <p class="text-base font-bold">Status Kerusakan Jalan</p>
            </div> 
            <div class="basis-1/2 flex justify-end ">
                <a href="" class="mx-4 bg-[#FAD6E1] w-[48px] h-[19px] text-center rounded-[15px] pt-[2px] text-xs text-[#EC769B]">Lihat</a>
            </div> 
        </div>
        <div class="mt-5 mb-4 flex shadow-[0_4px_25px_0_rgba(113,99,186,0.1)] rounded-[15px] gap-4 pt-4 pb-2 px-12">
            <div class="basis-1/4 flex-col flex items-center justify-center">
                <p class="font-bold text-[14px] h-[42px] text-center">Jumlah Titik Kerusakan</p>
                <p class="text-6xl font-bold">80</p>
            </div>
            <div class="basis-1/4 flex-col flex items-center justify-center">
                <p class="font-bold text-[14px] h-[42px] text-center">Berlubang</p>
                <p class="text-6xl font-bold">80</p>
            </div>
            <div class="basis-1/4 flex-col flex items-center justify-center">
                <p class="font-bold text-[14px] h-[42px] text-center">Retak</p>
                <p class="text-6xl font-bold">80</p>
            </div>
            <div class="basis-1/4 flex-col flex items-center justify-center">
                <p class="font-bold text-[14px] h-[42px] text-center">Bergelombang</p>
                <p class="text-6xl font-bold">80</p>
            </div>
        </div>
        <div class="p-8 shadow-[0_4px_25px_0_rgba(113,99,186,0.1)] rounded-[15px]">
            <canvas id="chart"></canvas>
        </div>
    </div>
    <div class="basis-1/3 bg-[#EBECF0] rounded-l-[15px]">
        <div id='calendar'></div>
    </div>
</section>
<script>
    let a = document.querySelectorAll(".sidebar")
    a.forEach(b=>{
        if(b.href === window.location.href){
            b.classList.add("text-white")
            b.classList.add("bg-[#7163BA]")
        }else{
            b.classList.remove("text-white")
            b.classList.remove("bg-[#7163BA]")
        }
    })

    var xValues = ["Jan", "Feb", "March", "April", "Mei"];
    var yValues = [55, 49, 44, 24, 30];
    var barColors = ["#D9D9D9", "#D9D9D9","#7163BA","#D9D9D9","#D9D9D9"];

    new Chart("chart", {
        type: "bar",
        data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues
            }]
        },
        options: {
            legend: {display: false},
            title: {
                display: true,
                text: "Jumlah Titik Kerusakan Perbulan"
            },
        }
    });

    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth'
        });
        calendar.render();
    });
</script>
{% endblock %}